(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,n){},22:function(t,e,n){t.exports=n(73)},27:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(18),o=n.n(i),c=(n(27),n(21)),s=n(3),l=n(4),d=n(6),u=n(5),f=n(7),h=n(8),m=n.n(h),y=(n(10),n(19)),p=n.n(y),g=n(11)("swipe-dog:reddit"),v="",w=!1,b=function(t){var e=[],n=!0,a=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value,s={},l=c.data,d=l.stickied,u=l.subreddit,f=l.num_comments,h=l.id,m=l.url,y=l.distinguished,p=l.thumbnail,g=l.title,v=null!=m.match(/\.(jpeg|png|gif|jpg)$/);!d&&"moderator"!==y&&v&&"self"!==p&&(s.title=g,s.id=h,s.key=h,s.imgUrl=m,s.thumbnail=p,s.num_comments=f,s.subreddit=u,e.push(s))}}catch(w){a=!0,r=w}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return e},k=function(){return w?new Promise(function(t,e){return e("currently running")}):(w=!0,g("fetch","https://www.reddit.com/r/dogswithjobs+rarepuppers/.json?limit=5"+"&after=".concat(v)),fetch("https://www.reddit.com/r/dogswithjobs+rarepuppers/.json?limit=5"+"&after=".concat(v)).then(function(t){return t.json()}).then(function(t){return v=t.data.after,w=!1,t.data.children?b(t.data.children):[]}))},j=n(20),E=n.n(j),O=n(11)("swipe-dog:Card"),C=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(d.a)(this,Object(u.a)(e).call(this,t))).onLoad=function(){n.setState({loaded:!0}),n.props.loaded()},n.componentDidUpdate=function(){var t=n.cardRef.current;t&&t.id&&n.props.stack&&n.state.loaded&&!n.stackified&&(O("stackifying element "+t.id),n.props.stack.createCard(t,!0),n.stackified=!0)},n.cardRef=r.a.createRef(),n.stackified=!1,n.state={loaded:!1},n}return Object(f.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props.item;return r.a.createElement("div",{ref:this.cardRef,className:"card",id:t.key,key:t.key,style:{display:this.state.loaded?"unset":"none"}},r.a.createElement("img",{alt:t.title,"data-lity-target":t.imgUrl,"data-lity-desc":'" data-lity-close junk="',onLoad:this.onLoad.bind(this),src:t.imgUrl,style:{width:"100%",height:"100%",objectFit:"cover",backgroundColor:"gray",display:"flex",flexDirection:"column",justifyContent:"space-between"}}))}}]),e}(a.Component),S=n(11)("swipe-dog:Stack"),M=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(d.a)(this,Object(u.a)(e).call(this,t))).fetchMore=function(){k().then(function(t){var e=!0,a=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var c=i.value,s=!0,l=!1,d=void 0;try{for(var u,f=n.posts[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){u.value.key,c.key}}catch(h){l=!0,d=h}finally{try{s||null==f.return||f.return()}finally{if(l)throw d}}n.posts.push(c)}}catch(h){a=!0,r=h}finally{try{e||null==o.return||o.return()}finally{if(a)throw r}}n.posts.length<=0&&k(),n.cardLoaded()}).catch(function(t){S("assuming already running request",t)})},n.componentDidMount=function(){n.fetchMore()},n.cardLoaded=function(){n.posts.length>0&&n.setState({cards:Object(c.a)(n.state.cards).concat([n.posts.shift()])})},n.handleThrowEnd=function(t){var a=t.target.id,r=n.state.cards;if(!(r.length<=0)){for(var i=0;i<r.length;++i)if(r[i].id===a){S("removing",a),r.splice(i,1);break}n.setState({cards:r}),r.length<e.MIN_POSTS&&(S("fetching more posts"),n.fetchMore())}},n.dragEnd=function(t){if(!n.lastConfidence){if(t.target.children.length<=0)return;var e=t.target.children[0],a=!0,r=!1,i=void 0;try{for(var o,c=e.attributes[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var s=o.value;"data-lity-target"===s.localName&&(S("calling lity on ",t.target.id),p()(s.textContent,{},e))}}catch(l){r=!0,i=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}}},n.posts=[],n.lastConfidence=1,n.state={cards:[],stack:null},n}return Object(f.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{style:{display:"none"},setStack:function(e){return t.setState({stack:e})},throwout:this.handleThrowEnd.bind(this),dragend:this.dragEnd.bind(this),config:{allowedDirections:[m.a.DIRECTION.LEFT,m.a.DIRECTION.RIGHT],throwOutConfidence:function(e,n,a){var r=Math.min(Math.abs(e)/a.offsetWidth/.5,1),i=Math.min(Math.abs(n)/a.offsetHeight,1);return t.lastConfidence=Math.max(r,i),t.lastConfidence}}},r.a.createElement("div",{style:{display:"none"}})),r.a.createElement("div",{className:"stack",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.cards&&this.state.cards.length>0?this.state.cards.map(function(e){return r.a.createElement(C,{stack:t.state.stack,key:e.key,loaded:t.cardLoaded.bind(t),item:e})}):r.a.createElement(E.a,{type:"Oval",color:"#00BFFF",height:"80",width:"80"})))}}]),e}(a.Component);M.MIN_POSTS=3;var x=M;var I=function(t){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"viewport"},r.a.createElement("div",{style:{display:"contents"}},r.a.createElement(x,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.a555429c.chunk.js.map